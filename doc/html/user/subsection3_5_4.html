<HEAD>
<TITLE> <tt>calc</tt></TITLE>
</HEAD>
<BODY><P>
 <HR> <A NAME=tex2html133 HREF=section3_6.html><IMG ALIGN=MIDDLE SRC="http://info.aoc.nrao.edu/icons/next_motif.gif"></A> <A NAME=tex2html131 HREF=section3_5.html><IMG ALIGN=MIDDLE SRC="http://info.aoc.nrao.edu/icons/up_motif.gif"></A> <A NAME=tex2html127 HREF=subsection3_5_3.html><IMG ALIGN=MIDDLE SRC="http://info.aoc.nrao.edu/icons/previous_motif.gif"></A> <A NAME=tex2html135 HREF=tableofcontents3_1.html><IMG ALIGN=MIDDLE SRC="http://info.aoc.nrao.edu/icons/contents_motif.gif"></A> <BR>
<B> Next:</B> <A NAME=tex2html134 HREF=section3_6.html> Special topics</A>
<B>Up:</B> <A NAME=tex2html132 HREF=section3_5.html> External tools</A>
<B> Previous:</B> <A NAME=tex2html128 HREF=subsection3_5_3.html> gaussfit &gfit</A>
<HR> <P>
<H2><A NAME=SECTION0005400000000000000> <tt>calc</tt></A></H2>
<P>
None of the standard unix shells include floating point variables or
functions.  Many of the more sophisticated shellscripts require this,
so the solution is to use a calculator program that evaluates its
arguments and prints the results.  <i>SDE</i> has adopted the program <tt>calc</tt>,
written by David Bell.  Typical examples are
<P>
<P><tt>result=$(calc &quot;r($a+1.5,5)&quot;)</tt>
<P>
<P><tt>label=$(calc &quot;s(pi(),3)&quot;)</tt>
<P>
<P>The first example sets the shell variable <tt>result</tt> to the value of <tt>a</tt> plus 1.5, rounded to 5 places.  The second sets <tt>label</tt> to <IMG ALIGN=BOTTOM ALT="" SRC="_29697_tex2html_wrap229.xbm">,
rounded to 3 significant figures.  <tt>result</tt>, <tt>a</tt>, and <tt>label</tt>
are all character strings as far as the shell is concerned.  The functions
<tt>r()</tt> and <tt>s()</tt> are defined within a small local library file,
and scripts which use them must include the line
<P>
<tt>export CALCRC=$SDEROOT/bin/unix/calc.lib</tt>
<P>
before the invocation of <tt>calc</tt> which uses the function.
<P>
<P><tt>calc</tt> is considerably more powerful than the typical use within SDE
would indicate.  It is well worth investigating as a portable arbitrary
precision calculation tool.
<P>
<HR>

</BODY>
<P><ADDRESS>
<I>sde@ <BR>
Thu Dec 22 18:40:34 MST 1994</I>
</ADDRESS>